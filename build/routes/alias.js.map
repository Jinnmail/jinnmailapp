{"version":3,"sources":["../../src/routes/alias.js"],"names":["validator","AliasRoute","router","express","Router","routes","req","res","body","userId","alias","registerAlias","then","data","reqRes","responseHandler","end","catch","err","console","log","httpErrorHandler","checkAvailability","getRegisteredAlias","getAlias","changeStatusOfAlias","params","aliasId","deleteAlias","getAliasUser","post","userAuth","get","put","changeAliasStatus","delete"],"mappings":"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","file":"alias.js","sourcesContent":["import express from 'express'\nimport userAuth from '../middlewares/userAuth'\nimport reqRes from '../middlewares/reqRes'\nimport alias from '../controller/alias';\nimport * as validator from '../middlewares/validator'\n\n\nclass AliasRoute {\n    router\n\n    constructor() {\n        this.router = express.Router()\n        this.routes()\n    }\n\n    //writing routes here\n    registerAlias(req, res) {\n        req.body.userId = req.userId;\n        alias.registerAlias(req.body)\n            .then((data) => {\n                reqRes.responseHandler('alias registered', data, res);\n                res.end();\n            })\n            .catch((err) => {\n                console.log(err)\n                reqRes.httpErrorHandler(err, res)\n                res.end()\n            })\n    }\n\n    checkAvailability(req, res) {\n        alias.checkAvailability(req.body)\n            .then((data) => {\n                reqRes.responseHandler('alias available', data, res);\n            }).catch((err) => {\n                reqRes.httpErrorHandler(err, res)\n                res.end()\n            })\n    }\n\n    getRegisteredAlias(req, res) {\n        alias.getRegisteredAlias(req)\n            .then((data) => {\n                reqRes.responseHandler('fetched successfully', data, res);\n            }).catch((err) => {\n                reqRes.httpErrorHandler(err, res);\n                res.end();\n            })\n    }\n\n    getAlias(req, res) {\n        alias.getAlias(req)\n            .then((data) => {\n                reqRes.responseHandler('fetched successfully', data, res);\n            }).catch((err) => {\n                reqRes.httpErrorHandler(err, res);\n                res.end();\n            })\n    }\n\n    changeAliasStatus(req, res) {\n        req.body.userId = req.userId;\n        alias.changeStatusOfAlias(req.body)\n            .then((data) => {\n                reqRes.responseHandler('updated successfully', data, res);\n            }).catch((err) => {\n                reqRes.httpErrorHandler(err, res);\n                res.end();\n            })\n    }\n\n\n    deleteAlias(req, res) {\n        console.log('delete', req.params.aliasId);\n        alias.deleteAlias(req)\n        .then((data) => {\n            reqRes.responseHandler('deleted successfully', data, res);\n        }).catch((err) => {\n            reqRes.httpErrorHandler(err, res);\n            res.end();\n        })\n    }\n\n    getAliasUser(req,res) {\n        alias.getAliasUser(req)\n            .then((data) => {\n                reqRes.responseHandler('fetched successfully', data, res);\n            }).catch((err) => {\n                reqRes.httpErrorHandler(err, res);\n                res.end();\n            })\n    }\n        \n\n    routes() {\n        this.router.post('/', userAuth, this.registerAlias);\n        this.router.get('/', userAuth,  this.getRegisteredAlias);\n        this.router.get('/checkAlias', userAuth, this.getAlias);\n        this.router.post('/avail', userAuth, this.checkAvailability);\n        this.router.put('/status', userAuth, this.changeAliasStatus);\n        this.router.delete('/:aliasId', userAuth, this.deleteAlias);\n        this.router.get('/linkedUser', this.getAliasUser)\n    }\n}\nexport default new AliasRoute().router"]}