{"version":3,"sources":["../../src/db/db.js"],"names":["mongoose","require","Mongoose","connect","db","mongodb","url","auth","user","username","password","useNewUrlParser","autoIndex","reconnectTries","Number","MAX_VALUE","reconnectInterval","poolSize","bufferMaxEntries","connectTimeoutMS","socketTimeoutMS","module","exports"],"mappings":";;AACA;;;;AACA;;;;;;;;AAFA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;;IAIMC,Q,GACF,oBAAc;AAAA;;AACVF,aAASG,OAAT,CAAiB,uBAAOC,EAAP,CAAUC,OAAV,CAAkBC,GAAnC,EAAwC;AACpCC,cAAM;AACFC,kBAAM,uBAAOJ,EAAP,CAAUC,OAAV,CAAkBI,QADtB;AAEFC,sBAAU,uBAAON,EAAP,CAAUC,OAAV,CAAkBK;AAF1B,SAD8B;AAKpCC,yBAAiB,IALmB;AAMpC;;AAEAC,mBAAW,KARyB,EAQlB;AAClBC,wBAAgBC,OAAOC,SATa,EASF;AAClCC,2BAAmB,GAViB,EAUZ;AACxBC,kBAAU,EAX0B,EAWtB;AACd;AACAC,0BAAkB,CAbkB;AAcpCC,0BAAkB,KAdkB,EAcX;AACzBC,yBAAiB,KAfmB,CAeZ;AAfY,KAAxC;AAmBA,WAAOpB,QAAP;AACH,C;;AAGLqB,OAAOC,OAAP,GAAiB,IAAIpB,QAAJ,EAAjB","file":"db.js","sourcesContent":["let mongoose = require('mongoose')\r\nimport cred from '../config/const'\r\nimport logger from '../utils/logger'\r\n\r\nclass Mongoose {\r\n    constructor() {\r\n        mongoose.connect(cred().db.mongodb.url, {\r\n            auth: {\r\n                user: cred().db.mongodb.username,\r\n                password: cred().db.mongodb.password,\r\n            },\r\n            useNewUrlParser: true,\r\n            //these parameters will change in production \r\n\r\n            autoIndex: false, // Don't build indexes\r\n            reconnectTries: Number.MAX_VALUE, // Never stop trying to reconnect\r\n            reconnectInterval: 500, // Reconnect every 500ms\r\n            poolSize: 10, // Maintain up to 10 socket connections\r\n            // If not connected, return errors immediately rather than waiting for reconnect\r\n            bufferMaxEntries: 0,\r\n            connectTimeoutMS: 10000, // Give up initial connection after 10 seconds\r\n            socketTimeoutMS: 45000, // Close sockets after 45 seconds of inactivity\r\n        }\r\n\r\n        );\r\n        return mongoose\r\n    }\r\n}\r\n\r\nmodule.exports = new Mongoose()"]}