{"version":3,"sources":["../../src/db/db.js"],"names":["mongoose","require","Mongoose","connect","process","env","DB_HOST","auth","user","DB_USER","password","DB_PASSWORD","useNewUrlParser","autoIndex","reconnectTries","Number","MAX_VALUE","reconnectInterval","poolSize","bufferMaxEntries","connectTimeoutMS","socketTimeoutMS","module","exports"],"mappings":";;AACA;;;;AACA;;;;;;;;AAFA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;;IAIMC,Q,GACF,oBAAc;AAAA;;AACVF,aAASG,OAAT,CAAiBC,QAAQC,GAAR,CAAYC,OAA7B,EAAsC;AAClCC,cAAM;AACFC,kBAAMJ,QAAQC,GAAR,CAAYI,OADhB;AAEFC,sBAAUN,QAAQC,GAAR,CAAYM;AAFpB,SAD4B;AAKlCC,yBAAiB,IALiB;AAMlC;;AAEAC,mBAAW,KARuB,EAQhB;AAClBC,wBAAgBC,OAAOC,SATW,EASA;AAClCC,2BAAmB,GAVe,EAUV;AACxBC,kBAAU,EAXwB,EAWpB;AACd;AACAC,0BAAkB,CAbgB;AAclCC,0BAAkB,KAdgB,EAcT;AACzBC,yBAAiB,KAfiB,CAeV;AAfU,KAAtC;AAmBA,WAAOrB,QAAP;AACH,C;;AAGLsB,OAAOC,OAAP,GAAiB,IAAIrB,QAAJ,EAAjB","file":"db.js","sourcesContent":["let mongoose = require('mongoose')\nimport cred from '../config/const'\nimport logger from '../utils/logger'\n\nclass Mongoose {\n    constructor() {\n        mongoose.connect(process.env.DB_HOST, {\n            auth: {\n                user: process.env.DB_USER,\n                password: process.env.DB_PASSWORD,\n            },\n            useNewUrlParser: true,\n            //these parameters will change in production \n\n            autoIndex: false, // Don't build indexes\n            reconnectTries: Number.MAX_VALUE, // Never stop trying to reconnect\n            reconnectInterval: 500, // Reconnect every 500ms\n            poolSize: 10, // Maintain up to 10 socket connections\n            // If not connected, return errors immediately rather than waiting for reconnect\n            bufferMaxEntries: 0,\n            connectTimeoutMS: 10000, // Give up initial connection after 10 seconds\n            socketTimeoutMS: 45000, // Close sockets after 45 seconds of inactivity\n        }\n\n        );\n        return mongoose\n    }\n}\n\nmodule.exports = new Mongoose()"]}