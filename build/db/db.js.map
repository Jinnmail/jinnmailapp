{"version":3,"sources":["../../src/db/db.js"],"names":["mongoose","require","Mongoose","connect","process","env","DB_HOST","auth","user","DB_USER","password","DB_PASSWORD","useNewUrlParser","autoIndex","reconnectTries","Number","MAX_VALUE","reconnectInterval","poolSize","bufferMaxEntries","connectTimeoutMS","socketTimeoutMS","module","exports"],"mappings":";;AACA;;;;AACA;;;;;;;;AAFA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;;IAIMC,Q,GACF,oBAAc;AAAA;;AACVF,aAASG,OAAT,CAAiBC,QAAQC,GAAR,CAAYC,OAA7B,EAAsC;AAClCC,cAAM;AACFC,kBAAMJ,QAAQC,GAAR,CAAYI,OADhB;AAEFC,sBAAUN,QAAQC,GAAR,CAAYM;AAFpB,SAD4B;AAKlCC,yBAAiB,IALiB;AAMlC;;AAEAC,mBAAW,KARuB,EAQhB;AAClBC,wBAAgBC,OAAOC,SATW,EASA;AAClCC,2BAAmB,GAVe,EAUV;AACxBC,kBAAU,EAXwB,EAWpB;AACd;AACAC,0BAAkB,CAbgB;AAclCC,0BAAkB,KAdgB,EAcT;AACzBC,yBAAiB,KAfiB,CAeV;AAfU,KAAtC;AAmBA,WAAOrB,QAAP;AACH,C;;AAGLsB,OAAOC,OAAP,GAAiB,IAAIrB,QAAJ,EAAjB","file":"db.js","sourcesContent":["let mongoose = require('mongoose')\r\nimport cred from '../config/const'\r\nimport logger from '../utils/logger'\r\n\r\nclass Mongoose {\r\n    constructor() {\r\n        mongoose.connect(process.env.DB_HOST, {\r\n            auth: {\r\n                user: process.env.DB_USER,\r\n                password: process.env.DB_PASSWORD,\r\n            },\r\n            useNewUrlParser: true,\r\n            //these parameters will change in production \r\n\r\n            autoIndex: false, // Don't build indexes\r\n            reconnectTries: Number.MAX_VALUE, // Never stop trying to reconnect\r\n            reconnectInterval: 500, // Reconnect every 500ms\r\n            poolSize: 10, // Maintain up to 10 socket connections\r\n            // If not connected, return errors immediately rather than waiting for reconnect\r\n            bufferMaxEntries: 0,\r\n            connectTimeoutMS: 10000, // Give up initial connection after 10 seconds\r\n            socketTimeoutMS: 45000, // Close sockets after 45 seconds of inactivity\r\n        }\r\n\r\n        );\r\n        return mongoose\r\n    }\r\n}\r\n\r\nmodule.exports = new Mongoose()"]}