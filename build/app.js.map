{"version":3,"sources":["../src/app.js"],"names":["server","app","config","routes","process","on","reason","p","console","log","use","bodyParser","urlencoded","extended","json","userRoutes","aliasRoutes","adminRoutes"],"mappings":";;;;;;;;AAUA;;AAMA;;;AAdA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;AAIA;;;;AACA;;;;AACA;;;;AAGA;;;;;;;;IAEMA,M;AAGJ,oBAAc;AAAA;;AACZ,SAAKC,GAAL,GAAW,wBAAX;AACA,SAAKC,MAAL;AACA,SAAKC,MAAL;AACAC,YAAQC,EAAR,CAAW,oBAAX,EAAiC,UAACC,MAAD,EAASC,CAAT,EAAe;AAC9CC,cAAQC,GAAR,CAAY,iCAAZ,EAA+CF,CAA/C,EAAkD,SAAlD,EAA6DD,MAA7D;AACA;AACD,KAHD;AAID;;;;6BAEQ;AACP,WAAKL,GAAL,CAASS,GAAT,CAAa,iCAAb;AACA,WAAKT,GAAL,CAASS,GAAT,CAAa,qBAAb;AACA,WAAKT,GAAL,CAASS,GAAT,CAAaC,qBAAWC,UAAX,CAAsB,EAAEC,UAAU,IAAZ,EAAtB,CAAb;AACA,WAAKZ,GAAL,CAASS,GAAT,CAAaC,qBAAWG,IAAX,EAAb;AACA,WAAKb,GAAL,CAASS,GAAT,CAAa,6BAAb;AACD;;;6BACQ;;AAEP,WAAKT,GAAL,CAASS,GAAT,CAAa,cAAb,EAA6BK,cAA7B;AACA,WAAKd,GAAL,CAASS,GAAT,CAAa,eAAb,EAA8BM,eAA9B;AACA,WAAKf,GAAL,CAASS,GAAT,CAAa,eAAb,EAA8BO,eAA9B;AACD;;;;;;kBAGY,IAAIjB,MAAJ,GAAaC,G","file":"app.js","sourcesContent":["\r\n\r\nimport express from 'express'\r\nimport path from 'path'\r\nimport bodyParser from 'body-parser'\r\nimport cookieParser from 'cookie-parser'\r\nimport cors from 'cors';\r\nimport {} from 'dotenv/config';\r\nimport validator from 'express-validator';\r\n\r\n// Importing route files from ./routes\r\n\r\nimport userRoutes from './routes/user'\r\nimport aliasRoutes from './routes/alias'\r\nimport adminRoutes from './routes/admin'\r\n\r\n//logger\r\nimport logger from './utils/logger';\r\n\r\nclass server {\r\n  app\r\n\r\n  constructor() {\r\n    this.app = express();\r\n    this.config();\r\n    this.routes();\r\n    process.on('unhandledRejection', (reason, p) => {\r\n      console.log('Unhandled Rejection at: Promise', p, 'reason:', reason);\r\n      // application specific logging, throwing an error, or other logic here\r\n    });\r\n  }\r\n\r\n  config() {\r\n    this.app.use(validator());\r\n    this.app.use(cors());\r\n    this.app.use(bodyParser.urlencoded({ extended: true }));\r\n    this.app.use(bodyParser.json());\r\n    this.app.use(cookieParser());\r\n  }\r\n  routes() {\r\n\r\n    this.app.use('/api/v1/user', userRoutes);\r\n    this.app.use('/api/v1/alias', aliasRoutes);\r\n    this.app.use('/api/v1/admin', adminRoutes)\r\n  }\r\n\r\n}\r\nexport default new server().app"]}